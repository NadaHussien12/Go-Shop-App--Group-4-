(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[22545,39395],{572752:(e,t,s)=>{function i(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}s.d(t,{Z:()=>i})},808475:(e,t,s)=>{s.d(t,{k:()=>A});var i=s(667294),n=s(702664),o=s(509860),a=s(6637),r=s(19121),l=s(414327),c=s(780280),d=s(231486),h=s(124237),_=s(160585),u=s(572752),p=s(643913),g=s(966113),m=s(226198),x=s(957161),b=s(83969),v=s(826067),f=s(539497);let w;const y=async(e,t,s,i)=>{const n=(0,v.mB)(e);n.state&&n.code&&n.state===i&&w&&!w.closed&&w.close(),fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"undefined"!=typeof window?`${String(d.U2(m.fS))}`:""},method:"POST",body:(0,p.Z)({code:n.code,redirect_uri:s})}).then((e=>e.json())).then((({id_token:e,access_token:s})=>{var i;e&&s?t.success({line_id_token:e,line_access_token:s}):null===(i=t.error)||void 0===i||i.call(t,{message:"error"})})).catch((e=>{var s;return null===(s=t.error)||void 0===s?void 0:s.call(t,e)}))};let S=Object.freeze({});const E=e=>{const{network:t}=e;if(!S[t])return;const{error:s,success:i,complete:n}=S[t];S={...S,[t]:null};let o=!!e.error_message;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(o=!0)}o?null==s||s({api_error_code:e.api_error_code,code:e.code,message:e.message}):i(e),null==n||n()},C=({i18n:e,network:t,options:i,requestContext:n})=>{if(i={success:()=>{},error:()=>{},complete:()=>{},...i},(0,f.My)(`auth_web.social_connect.${t}.${(0,u.Z)(n)}`),"gplus"===t||"google"===t){const e=e=>{i.success({one_time_code:e.code,redirect_uri:"postmessage"})};(0,f.My)("auth_web.social_connect.google.migration"),async function(e){var t,s;await(0,b.Px)();const i=null===(t=window.google)||void 0===t||null===(s=t.accounts)||void 0===s?void 0:s.oauth2;i&&i.initCodeClient({client_id:g.Z.settings.GPLUS_CLIENT_ID,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}(e)}else if("line"===t){const{locale:e}=n,t=`${window.location.origin}/oauth/line/redirect`,s=(0,_.Z)(10);window.addEventListener("message",(({isTrusted:e,origin:n,data:o})=>{e&&n===window.location.origin&&o&&y(String(o),i,t,s)})),window.addEventListener("storage",(({isTrusted:e,url:n,key:o})=>{if(e&&n.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===o){const e=(0,x.qn)("lineOAuthOneTimeCode");e&&y(e,i,t,s)}})),w=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${g.Z.settings.LINE_CLIENT_ID}&redirect_uri=${encodeURIComponent(t)}&state=${s}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}else Promise.resolve().then(s.bind(s,509860)).then((({default:s})=>{const n=i.windowOptions||s.getWindowOptions(),o=window.open("/connect/"+t+"/","",n);var a,r;if(!o)return h.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void(null===(a=(r=i).error)||void 0===a||a.call(r,Object.freeze({})));const l=setInterval((()=>{o.closed&&(clearInterval(l),E({network:t,error_message:"Window closed."}))}),1e3);S={...S,[t]:i}}))};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&E(e.data)}));var j=s(79830);class P{constructor({invalidateResource:e,requestContext:t,viewer:s}){this.getUserId=()=>s.isAuth?s.id:"",this.getUsername=()=>s.isAuth?s.username:"",this.isLimitedLogin=()=>s.isLimitedLogin,this.invalidateResource=e,this.requestContext=t}handleConnect(e,t,s,i){if(t&&!this.isLimitedLogin()){let n;"dropbox"===e?n="width=600,height=800":"instagram"===e?n=o.default.getWindowOptions(580,580):"etsy"===e?n=o.default.getWindowOptions(580,775):"youtube"===e&&(n=o.default.getWindowOptions(605,640));const a={success:i=>this._internalConnectNetwork(t,{network:e,data:i},s),error:s.error,complete:s.complete,windowOptions:n};this._externalConnectNetwork(e,t,a,i)}else{const i={network:e};this._internalConnectNetwork(t,i,s)}}updateConnectStatus(){const e={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",e);a.Z.create("UserResource",e).callGet()}_externalConnectNetwork(e,t,s,i){t?C({network:e,options:s,i18n:i,requestContext:this.requestContext}):s.success&&s.success({})}_internalConnectNetwork(e,t,s){const i=a.Z.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then((e=>{var t;this.updateConnectStatus(),null===(t=s.success)||void 0===t||t.call(s,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=s.error)||void 0===t||t.call(s,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=s.complete)||void 0===e||e.call(s)}))}_getResourceNameForNetworkFriends(e){let t=null;switch(e){case j.vq:t="UserFacebookFriendsResource";break;case j.Ib:t="UserTwitterFriendsResource";break;case j.Tr:t="UserGmailFriendsResource";break;case j.lA:t="UserMicrosoftFriendsResource";break;default:return}return t}pollForFriends(e,t){const s=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const n=a.Z.create(i,s);n.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(n)}),(s=>{if(110===s.api_error_code)setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}}function A(){const e=(0,n.useDispatch)(),t=(0,c.B)(),s=(0,r.Z)();return(0,i.useMemo)((()=>new P({invalidateResource:(t,s)=>e((0,l.jB)(t,s)),requestContext:t,viewer:s})),[e,t,s])}},935879:(e,t,s)=>{s.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},31149:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(785893);function n({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:(e,t,s)=>{s.d(t,{c:()=>i,y:()=>n});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116},n={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},160585:(e,t,s)=>{function i(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(Math.random()*t.length)])).join("")}s.d(t,{Z:()=>i})},482981:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(784641);function n(e){const{article_creator_user:t,display_type:s,feed_source:n,header_pin_id:o,id:a,is_product_pin_feed:r,title:l,video_pin:c}=e;switch(s){case 0:case 1:return l?(0,i.T7)(n,null!=r&&r,l,a):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return o?`/pin/${o}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}}},207112:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(667294),n=s(883119),o=s(785893);class a extends i.Component{constructor(e){var t,s,n;super(e),n={manualTruncate:!1},(s="state")in(t=this)?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const n=void 0===i.textContent?"innerText":"textContent",o=i[n];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):s.e(14118).then(s.bind(s,448433)).then((({default:s})=>{s(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:s=!1}=this.props,{manualTruncate:i}=this.state,a={maxWidth:e,maxHeight:t},r=s?{display:"inline",...a}:{...a};return i?(0,o.jsx)(n.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:r},ref:this.ref,children:this.props.children}):(0,o.jsx)(n.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:r},children:this.props.children})}}const r=a},869899:(e,t,s)=>{s.r(t),s.d(t,{RoleBasedAccessControlProvider:()=>v,useRoleBasedAccessControlContext:()=>b});var i=s(667294),n=s(389643),o=s(784590),a=s(19121),r=s(773285),l=s(425288),c=s(70061);const d=e=>{const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&("object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?t[(0,c.Z)(s)]=e[s]:t[(0,c.Z)(s)]=d(e[s]));return t},h=(e,t)=>{const s=[];for(const o in e)o!==t&&s.push({id:o,...d(e[o])});const i=s.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),n=new Map;for(const o of i)n.set(o.id,o);return n};var _=s(622096);const u={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,s]=(0,i.useReducer)(p,u),n=(({dispatch:e,isEnabled:t,state:s})=>{const{orbacVisibility:n,disableProfileChanger:o,headerVisible:a}=s;return{changeProfile:(0,i.useCallback)((s=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:s})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((s=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=s?s:!n})}),[t,e,n]),toggleDisableProfileChanger:(0,i.useCallback)((s=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=s?s:!o})}),[t,e,o]),toggleHeaderVisibility:(0,i.useCallback)((s=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=s?s:!a})}),[t,e,a])}})({dispatch:s,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:a}=t;(0,i.useEffect)((()=>{const e=(0,_.qn)("orbacActiveProfile",!1);e&&s({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,_.qn)("orbacVisibilty",!1);e&&s({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,_.Nh)("orbacVisibility",a)}),[a]),(0,i.useEffect)((()=>{(0,_.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:n,receiveProfiles:(0,i.useCallback)(((e,t)=>{s({type:"LOAD_PROFILES",payload:h(e,t)})}),[s])}};var m=s(785893);const{Provider:x,useMaybeHook:b}=(0,l.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{const{checkExperiment:t}=(0,r.F)(),s=(0,a.Z)(),l=Boolean(s.isAuth&&s.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:h}=g(l),{activeProfile:_,headerVisible:u,profiles:p=[]}=c,b=p?Array.from(p.values()):[],v=(0,n.Z)(b),f=!!(s.isAuth&&b.length>0)&&v,w=s.isAuth?s.id:"",y=s.isAuth?s.username:"",{changeProfile:S,toggleORBACVisibility:E,toggleDisableProfileChanger:C,toggleHeaderVisibility:j}=d;(0,i.useEffect)((()=>{l&&("string"!=typeof v?_||S(w):S(v))}),[v,w,l,S,_]),(0,i.useEffect)((()=>{l&&(f&&!u&&j(!0),!f&&u&&j(!1))}),[j,f,l,u,p]);const{data:P}=(0,o.Z)(l?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=null==P?void 0:P.profiles;let I;s&&s.isAuth&&c.activeProfile===s.id?I={id:s.id,permissions:["OWNER"],user:{username:y,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:_&&c.profiles&&(I=c.profiles.get(_)),(0,i.useEffect)((()=>{A&&h(A,w)}),[h,A,w]);const k=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(x,{value:{profiles:k,headerVisible:c.headerVisible,activeProfile:I,changeProfile:S,toggleORBACVisibility:E,toggleDisableProfileChanger:C,toggleHeaderVisibility:j},children:e})}},717615:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(773285),n=s(869899);const o=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,n.useRoleBasedAccessControlContext)(),{activeProfile:s}=t||{};return e("web_m10n_business_access_orbac_www").anyEnabled&&s||Object.freeze({})}},389643:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(702664),n=s(19121),o=s(773285),a=s(53987),r=s(276775);const l=e=>{var t;const s=(0,r.TH)(),l=(0,n.Z)(),{anyEnabled:c}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,r.$B)("/:username"),h=null==d||null===(t=d.params)||void 0===t?void 0:t.username,_=(0,r.$B)("/pin/:id"),u=(0,i.useSelector)((e=>{var t,s,i,n;return!(null==_||null===(t=_.params)||void 0===t||!t.id)&&(null==e||null===(s=e.pins)||void 0===s||null===(i=s[_.params.id])||void 0===i||null===(n=i.pinner)||void 0===n?void 0:n.id)}));if((0,a.ej)(s))return!1;if((0,a.RU)(s))return!0;if((0,a.mY)(s))return c;const p=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:t={},id:s}=e||{},{username:i}=t;return!!(i&&h||u&&s)&&(i===h||u===s)}));return!!p&&p.id}},231947:(e,t,s)=>{s.d(t,{D3:()=>c,DX:()=>r,KY:()=>d,Ms:()=>i,N1:()=>h,_P:()=>a,lJ:()=>o,nl:()=>n,q6:()=>l});const i=(e,t)=>{let s=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(s=t.user.username),s},n=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",a=(e,t,s)=>{var i;return s&&s.user&&t&&t.isAuth&&s.id!==t.id?s.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},r=(e,t,s)=>s&&s.user&&e.isAuth&&s.id!==e.id?s.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,s)=>!!(e&&e.isAuth&&s&&s.id&&s.id!==e.id&&s.id===t),c=(e,t,s)=>!!(l(e,t,s)||e&&e.isAuth&&t===e.id),d=(e,t,s)=>{const i=t&&t.owner&&t.owner.id||"";return c(e,i,s)};function h(e,t,s){const i=t?t.id:"";return c(e,i,s)}},758523:(e,t,s)=>{s.d(t,{$:()=>o,B:()=>n});var i=s(425288);const{Provider:n,useHook:o}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},812446:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(545846),n=s(112690),o=s(785893);function a(e){return t=>{const s=(0,n.Z)();return(0,o.jsx)(i.Z,{ref:t.shareButtonRef,Subject:e,logContextEvent:s,...t})}}},545846:(e,t,s)=>{s.d(t,{Z:()=>p});var i=s(667294),n=s(482981),o=s(451204),a=s(121151),r=s(837727),l=s(946984),c=s(883119),d=s(785893);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=new c.Ry(1),u=({children:e})=>e((0,l.Z)({shouldStopEventPropagation:!1}));class p extends i.Component{constructor(...e){super(...e),h(this,"state",{shouldKeepShareSheetOpenUntilDismiss:!1}),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;this.setState({shouldKeepShareSheetOpenUntilDismiss:!1}),e()})),h(this,"handleDismissOnHover",(e=>{var t;const{isFlyoutOpen:s,checkExperiment:i}=this.props;if(!(null==i?void 0:i("web_sharesheet_closeup_hover").anyEnabled))return;const n=null===(t=this.flyoutAnchor)||void 0===t?void 0:t.getBoundingClientRect();this.state.shouldKeepShareSheetOpenUntilDismiss||s&&e&&n&&e.clientY>n.top&&e.clientY<=n.bottom+15&&e.clientX>=n.left&&e.clientX<n.right||this.handleDismiss()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:s,imageSrc:i,pinId:a,userId:l,board:c,sendType:h,fullName:_,profileUrl:u,element:p,viewParameter:g,viewType:m,onExternalSend:x,showCaret:b,todayArticle:v,ownerId:f}=this.props;let w={description:t,id:a,imageUrl:i,name:"",type:r.d.PIN,url:`/pin/${a}/`,ownerId:f},y=r.d.PIN;switch(h){case"user":w={description:t,id:l,imageUrl:i,name:_,type:r.d.PINNER,url:u},y=r.d.USER;break;case"board":w=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:r.d.BOARD,url:c.url,ownerId:null===(e=c.owner)||void 0===e?void 0:e.id},y=r.d.BOARD;break;case"today_article":w=v&&{description:v.subtitle||"",id:v.id,imageUrl:i,name:v.title,type:r.d.TODAY_ARTICLE,url:(0,n.Z)(v)},y=r.d.TODAY_ARTICLE}const S={element:p,onHide:this.onHide,onExternalSend:x,sendType:y,sharedObject:w,viewParameter:g,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:s,onDismiss:this.handleDismiss,showCaret:b,children:(0,d.jsx)(o.default,{...S})}}))}toggleOnHover(e){const{checkExperiment:t,isFlyoutOpen:s}=this.props;if(t&&t("web_sharesheet_closeup_hover").anyEnabled){if(null==e&&s)return;this.toggleFlyout(e)}}toggleFlyout(e){const{isOwnProfile:t,onToggleFlyout:s,isFlyoutOpen:i,sendType:n,userId:o,logContextEvent:a,checkExperiment:r}=this.props;null!=r&&r("web_sharesheet_closeup_hover").anyEnabled&&null!=e&&(this.setState({shouldKeepShareSheetOpenUntilDismiss:e}),i&&e)||("user"===n&&a({event_type:101,component:13675,element:1079,object_id_str:o,view_type:4,view_parameter:t?3106:3107}),s())}render(){const{Subject:e,inModal:t,isFlyoutOpen:s,shownWithinMasonry:i,shownWithinProfileHeader:n,accessibilityLabel:o,checkExperiment:r}=this.props,{anchor:l,idealDirection:h,showCaret:p,children:g}=this.flyoutProps(),m=this.state.shouldKeepShareSheetOpenUntilDismiss,x=null==r?void 0:r("web_sharesheet_closeup_hover").anyEnabled,b=(0,d.jsx)(c.xu,{children:(0,d.jsx)(u,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggleFlyout(!m)})),...this.props})})}),v=s&&(i||n?(0,d.jsx)(c.mh,{zIndex:n?_:void 0,children:(0,d.jsx)(c.xu,{zIndex:t?a.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,d.jsx)(c.J2,{anchor:l,idealDirection:h,onDismiss:()=>{this.handleDismiss()},showCaret:p,size:"flexible",positionRelativeToAnchor:!1,shouldFocus:m,children:g})})}):(0,d.jsx)(c.J2,{anchor:l,idealDirection:h,onDismiss:()=>{this.handleDismiss()},showCaret:p,size:"flexible",children:g}));return(0,d.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:x?(0,d.jsxs)(c.iP,{accessibilityLabel:o,accessibilityHaspopup:!0,tabIndex:-1,onMouseEnter:()=>{this.toggleOnHover()},onMouseLeave:e=>{this.handleDismissOnHover(e.event)},children:[b,(0,d.jsx)(c.iP,{tabIndex:-1,accessibilityLabel:o,accessibilityControls:null==l?void 0:l.id,onMouseLeave:e=>{this.handleDismissOnHover(e.event)},onTap:()=>{this.toggleOnHover(!0)},children:v})]}):(0,d.jsxs)(c.xu,{children:[b," ",v]})})}}h(p,"defaultProps",{idealDirection:"down",onClick:()=>{}})},655747:(e,t,s)=>{s.d(t,{Z:()=>c,j:()=>l});var i=s(898781),n=s(349700),o=s(773285),a=s(883119),r=s(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:t,isPromoted:s,onNavigateSponsorClick:c,sponsorName:d,sponsorshipStatus:h,textWeight:_="bold"}){const u=(0,i.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,o.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,m=d?(0,r.jsx)(a.rU,{href:t||`/${d}/`,onClick:c,children:(0,r.jsx)(a.xv,{weight:_,size:"200",children:d})},d):void 0;let x;s?x=(0,n.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:m}):h||0===h?d&&!l.includes(h)?x=(0,n.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:m}):g&&2===h||(x=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(x=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const b=p&&!s?"Ad • ":"";return(0,r.jsxs)(a.xv,{inline:!0,size:"200",lineClamp:2,children:[b,x]})}},499155:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(667294),n=s(898781),o=s(883119),a=s(785893);function r({size:e,iconColor:t,backgroundColor:s,disabled:i,onClick:r}){const l=(0,n.ZP)(),c=48===e?"lg":"xl";return(0,a.jsx)(o.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:s,icon:"link",iconColor:t||s&&!["white","lightGray","transparent"].includes(s)?t:"gray",size:c,disabled:i,onClick:r})}var l=s(172071),c=s(239324),d=s(518604),h=s(499128),_=s(53987),u=s(867060),p=s(407043),g=s(773285),m=s(276775),x=s(343341),b=s(580744);function v({backgroundColor:e,iconColor:t,iconSize:s,iconWrapperWidth:v,isCloseupActionBar:f,marginEnd:w,onClick:y,sharedObject:S,spaceBelowIcon:E,viewType:C,viewParameter:j,relayEnvironment:P}){const A=(0,n.ZP)(),{logContextEvent:I}=(0,p.v)(),{checkExperiment:k}=(0,g.F)(),T=k("web_share_menu_logging").anyEnabled,z=(0,x.F9)(),[Z,O]=(0,i.useState)(""),[L,B]=(0,i.useState)(!1),[M,D]=(0,i.useState)(!1),R=(0,m.TH)(),F=A._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),H=e=>{f?navigator.clipboard.writeText(e).then((()=>{var e;e=A._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),z.showToast((({hideToast:t})=>(0,a.jsx)(o.xu,{top:!0,children:(0,a.jsx)(h.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{D(!0),setTimeout((()=>{D(!1)}),3e3)}))},N=async()=>{if(Z)return void H(Z);B(!0);const e={invite_category:3,invite_channel:12,object_type:S.type,object_id:S.id,name:S.name,description:S.description||"",path:S.url,picture:S.imageUrl};b.Z.createShareInviteData(e,P).then((t=>{const{invite_url:s}=t;B(!1),s&&(O(s),b.Z.logShareInvite(e,t,P),H(s))}))},G=()=>{if(N(),T){const e=u.y[S.type];e||l.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:S.type}),f&&I({event_type:101,component:14147,element:13103,object_id_str:S.id,view_type:C,view_parameter:j,aux_data:e?{invite_object:e}:void 0}),y&&y()}};return(0,_.am)(R)&&f&&k("web_copy_link_btn_replace").anyEnabled?(0,a.jsx)(o.xu,{marginStart:1,children:(0,a.jsx)(o.zx,{accessibilityLabel:A._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:A._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>G(),size:"lg",color:"gray",fullWidth:!0})}):(0,a.jsxs)(d.Z,{isCloseupActionBar:!0,width:v||s,marginEnd:w||!1,children:[(0,a.jsx)(o.xu,{alignItems:f?"center":"stretch",display:f?"flex":"block",marginBottom:E,width:f?"100%":"auto",children:(0,a.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:s,children:(0,a.jsx)(r,{backgroundColor:e,iconColor:t,size:s,onClick:G,disabled:L})})}),!f&&(0,a.jsx)(c.Z,{text:M?F:A._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},451204:(e,t,s)=>{s.r(t),s.d(t,{default:()=>he});var i=s(667294),n=s(172071),o=s(116303),a=s(898781),r=s(934523),l=s(349700),c=s(407043),d=s(773285),h=s(883119);const _={FONT_SIZE:"300",ITEM_SIZE:56,ITEM_PADDING:30,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:98,SECTION_LABEL_HEIGHT:64,MAX_CONTACTS_SHOWN:5,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:2},u={FONT_SIZE:"200",ITEM_SIZE:48,ITEM_PADDING:26,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:81,SECTION_LABEL_HEIGHT:49,MAX_CONTACTS_SHOWN:4,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:1},p=(_.MAX_CONTACTS_SHOWN+1)*(_.ITEM_SIZE+_.ITEM_PADDING)+2*_.SHARE_SHEET_PADDING_X*4,g=(u.MAX_CONTACTS_SHOWN+1)*(u.ITEM_SIZE+u.ITEM_PADDING)+2*u.SHARE_SHEET_PADDING_X*4;var m=s(785893);function x({idx:e,item:t,onSendMessage:s,onViewConversation:n,sentHistory:p}){var g;const x=(0,a.ZP)(),{logContextEvent:b}=(0,c.v)(),[v,f]=(0,i.useState)(!1),w=t.id||"string"==typeof t.email&&t.email||"",y=Object.prototype.hasOwnProperty.call(p,w),S=null!==(g=p[w])&&void 0!==g?g:"";let E="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(E=t.email):E=t.full_name;let C="";y?C=x._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):v&&(C=x._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));const{checkExperiment:j}=(0,d.F)(),P=j("web_sharesheet_resize").anyEnabled?u:_;return(0,m.jsx)(h.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",direction:"column",width:P.ITEM_SIZE+P.ITEM_PADDING,children:(0,m.jsx)(h.xu,{display:"inlineBlock",role:"button",children:(0,m.jsxs)(h.iP,{onTap:y?()=>n(S):()=>{b({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),f(!0),s(t)},children:[(0,m.jsxs)(h.xu,{alignItems:"center","data-test-id":v?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:P.ITEM_SIZE,justifyContent:"center",marginBottom:P.SPACE_BELOW_ITEM,width:P.ITEM_SIZE,children:[v&&(0,m.jsx)(h.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:P.ITEM_SIZE,justifyContent:"center",position:"absolute",rounding:"circle",width:P.ITEM_SIZE,zIndex:new h.Ry(r.fe),children:(0,m.jsx)(h.JO,{accessibilityLabel:(0,l.Wc)(x._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:E}),icon:"check",color:"light",size:24})}),(0,m.jsx)(o.Z,{size:"fit",src:t.image_large_url,name:E})]}),(0,m.jsxs)(h.xu,{"data-test-id":"sharesheet-contact-item-label",width:P.ITEM_SIZE,children:[(0,m.jsx)(h.xv,{lineClamp:1,size:"100",align:"center",children:E}),(0,m.jsx)(h.xv,{color:"subtle",size:"100",align:"center",children:C})]})]})})})}var b=s(784590),v=s(479301),f=s(711108);function w(e){var t;const{logContextEvent:s}=(0,c.v)(),n=(0,a.ZP)(),{onHide:o,onSendMessage:r,onShowImportContacts:l,objectAttachment:p,sentHistory:g}=e,{checkExperiment:w}=(0,d.F)(),y=w("web_sharesheet_resize").anyEnabled?u:_,{isLoaded:S}=(0,b.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{shareSuggestions:E}=(0,f.E)(),C=(null===(t=E[""])||void 0===t?void 0:t.slice(0,y.MAX_CONTACTS_SHOWN))||[],j=C.length>0;(0,i.useEffect)((()=>{if(S){s({event_type:j?7511:7512,component:56,view_type:70,view_parameter:256})}}),[j,s,S]);const{dropdownOpen:P,conversationOpen:A,newMessageOpen:I}=(0,v.Z5)(),k=e=>{A(e),P(),o()},T=C.map(((e,t)=>{const s=`${e.id||e.email||t}`,i={item:e,idx:t,onSendMessage:r,onViewConversation:k,sentHistory:g};return(0,m.jsx)(x,{...i},s)})),z=(0,d.F)().checkExperiment("web_sharesheet_resize").anyEnabled,Z=!j&&!S;return(0,m.jsxs)(h.kC,{direction:"column",children:[(0,m.jsx)(h.kC,{alignItems:"center",height:y.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,m.jsx)(h.xv,{align:"center",size:y.FONT_SIZE,weight:"bold",children:n._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,m.jsx)(h.xu,{display:"flex",height:y.ITEM_ROW_HEIGHT,justifyContent:Z?"center":void 0,marginBottom:5,children:Z?(0,m.jsx)(h.xu,{paddingY:2,children:(0,m.jsx)(h.$j,{accessibilityLabel:n._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,m.jsxs)(h.kC,{direction:"row",children:[(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:y.ITEM_SIZE+y.ITEM_PADDING,children:[(0,m.jsx)(h.xu,{height:y.ITEM_SIZE,marginBottom:y.SPACE_BELOW_ITEM,width:y.ITEM_SIZE,children:(0,m.jsx)(h.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{I(p),P(),o()},size:z?"lg":"xl"})}),(0,m.jsx)(h.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),j?T:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:y.ITEM_SIZE+y.ITEM_PADDING,children:[(0,m.jsx)(h.xu,{height:y.ITEM_SIZE,marginBottom:y.SPACE_BELOW_ITEM,width:y.ITEM_SIZE,children:(0,m.jsx)(h.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:l,size:z?"lg":"xl"})}),(0,m.jsx)(h.xv,{lineClamp:1,size:"100",children:n._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function y(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var S=s(936776),E=s(837727);function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class j extends i.Component{constructor(...e){super(...e),C(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),C(this,"handleSendEmail",((e,t)=>{if(e){const s={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(s,t)}})),C(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),C(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,m.jsx)(h.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,m.jsxs)(h.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,m.jsx)(h.xu,{flex:"grow",marginEnd:8,children:(0,m.jsx)(h.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,m.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,m.jsx)(h.xu,{paddingY:1,marginBottom:4,children:(0,m.jsx)(h.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,m.jsx)(h.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,m.jsx)(h.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,m.jsx)(h.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,S.Z)(this.state.emailValue)})})]})]})}}function P(e){const t=(0,a.ZP)();return(0,m.jsx)(j,{...e,i18n:t})}var A=s(567831),I=s(499155),k=s(31149),T=s(107193),z=s(659522),Z=s(331744),O=s(757146);function L({size:e=48}){return(0,m.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,m.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,m.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,m.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,m.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,m.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,m.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var B=s(239324),M=s(518604),D=s(19121);function R({iconSize:e,iconWrapperWidth:t,marginBottom:s,marginEnd:i,onCreatePincodeClick:n,sharedObject:o}){const r=(0,a.ZP)(),l=(0,D.Z)();return n&&[E.d.BOARD,E.d.PINNER,E.d.USER].includes(o.type)&&l.isAuth&&(o.id===l.id||l.isEmployee)?(0,m.jsxs)(M.Z,{width:t,marginEnd:i,children:[(0,m.jsx)(h.xu,{marginBottom:s,children:(0,m.jsx)(h.iP,{fullWidth:!1,onTap:n,children:(0,m.jsx)(L,{size:e})})}),(0,m.jsx)(B.Z,{text:r._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var F=s(464240),H=s(22641),N=s(167912),G=s(780280),U=s(580744),V=s(867060),W=s(343341);function $(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Y={backgroundColor:"#ffffff",border:"none",padding:0},X=new Set(["JP","TW","TH"]),q=(e,t)=>{(0,T.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class K extends i.Component{constructor(...e){super(...e),$(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),$(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,s=this.getShareOptions(12);e||(U.Z.logShareInvite(s,t,this.props.relayEnvironment),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getWhatsAppURL(){const e=this.getShareOptions(10);U.Z.createShareInviteData(e,this.props.relayEnvironment).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const s=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+s})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,A.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:s,onExternalSend:i,logContextEvent:o,viewType:a,viewParameter:r,inShareMenuLoggingExp:l,sharedObject:c}=this.props;let d=l?V.c[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),l||(d=257)):"twitter"===e||9===t?(this.openTwitterDialog(),l||(d=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),l||(d=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),l||(d=951)):"pincode"===e||16===t?s&&s():"copylink"===e||12===t?(this.openShareUrlLink(),l||(d=100)):"email"===e||1===t?(this.openEmailDialog(),l||(d=258)):"line"!==e&&8!==t||(this.openLineDialog(),l||(d=952)),i&&i();const h=V.y[c.type];h||n.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:c.type}),o({event_type:101,component:l?14121:153,element:d,object_id_str:l?c.id:void 0,view_type:l?a:void 0,view_parameter:l?r:void 0,aux_data:l?{invite_object:h}:void 0})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;q((()=>{U.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;q((()=>{U.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(U.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){U.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}openLineDialog(){U.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}renderEmail(){const{inResizeShareSheetExp:e}=this.props,t=e?u:_,s=t.ITEM_SIZE,i=t.ITEM_SIZE+t.ITEM_PADDING,n=t.SPACE_BELOW_ITEM;return(0,m.jsxs)(M.Z,{width:i,marginEnd:!1,children:[(0,m.jsx)(h.xu,{display:"inlineBlock",marginBottom:n,children:(0,m.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email",1),style:Y,children:(0,m.jsx)(k.Z,{size:s})})}),(0,m.jsx)(B.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:s,showLineShare:n,showMessengerShare:o,isPublisherSharingObject:a,viewType:r,viewParameter:l,inResizeShareSheetExp:c}=this.props,d=c?u:_,p=d.ITEM_SIZE,g=d.ITEM_SIZE+d.ITEM_PADDING,x=d.SPACE_BELOW_ITEM;return(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(h.kC,{justifyContent:"start",wrap:c,children:[n&&(0,m.jsxs)(M.Z,{width:g,marginEnd:n,children:[(0,m.jsx)(h.xu,{marginBottom:x,children:(0,m.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line",8),style:Y,children:(0,m.jsx)(Z.Z,{size:p})})}),(0,m.jsx)(B.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,m.jsxs)(M.Z,{width:g,marginEnd:!1,children:[(0,m.jsx)(h.xu,{marginBottom:x,children:(0,m.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:Y,tabIndex:"-1",children:(0,m.jsx)(h.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,m.jsx)(H.Z,{size:p})})})}),(0,m.jsx)(B.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),o&&(0,m.jsxs)(M.Z,{width:g,marginEnd:!1,children:[(0,m.jsx)(h.xu,{marginBottom:x,children:(0,m.jsx)("button",{"aria-label":e._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:()=>this.handleSocialShareClick("messenger",6),style:Y,children:(0,m.jsx)(O.Z,{size:p})})}),(0,m.jsx)(B.Z,{text:e._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,m.jsxs)(M.Z,{width:g,marginEnd:!1,children:[(0,m.jsx)(h.xu,{marginBottom:x,children:(0,m.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook",5),style:Y,children:(0,m.jsx)(z.Z,{size:p})})}),(0,m.jsx)(B.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,m.jsxs)(M.Z,{width:g,marginEnd:!1,children:[(0,m.jsx)(h.xu,{marginBottom:x,children:(0,m.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter",9),style:Y,"data-test-id":"twitter-share-icon",children:(0,m.jsx)(F.Z,{size:p})})}),(0,m.jsx)(B.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(R,{iconSize:p,iconWrapperWidth:g,marginBottom:x,marginEnd:!1,onCreatePincodeClick:t,sharedObject:s}),(0,m.jsx)(I.default,{sharedObject:s,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:p,iconWrapperWidth:g,marginEnd:n,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:x,viewType:r,viewParameter:l,relayEnvironment:this.props.relayEnvironment},"copylink"),!a&&this.renderEmail()]})]})})}render(){const{paddingX:e,inResizeShareSheetExp:t}=this.props,s=t?u:_;return(0,m.jsxs)(h.xu,{paddingX:e,children:[(0,m.jsx)(h.kC,{alignContent:"center",alignItems:"center",height:s.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,m.jsx)(h.xv,{size:s.FONT_SIZE,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,m.jsx)(h.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:s.ITEM_ROW_HEIGHT,children:this.renderShareOptions()})]})}}function J(e){const{logContextEvent:t}=(0,c.v)(),{checkExperiment:s}=(0,d.F)(),i=(0,a.ZP)(),n=(0,D.Z)(),o=n.isAuth&&X.has(n.country),r=s("web_messenger_share_channel").anyEnabled,l=(0,G.B)(),h=s("web_share_menu_logging").anyEnabled,_=s("web_sharesheet_resize").anyEnabled,u=s("graphql_migration_sharesheet_sgrowth_web").anyEnabled,p=(0,N.useRelayEnvironment)();return(0,m.jsx)(K,{...e,toastManagerContext:(0,W.F9)(),viewer:(0,D.Z)(),showLineShare:o,showMessengerShare:r,i18n:i,logContextEvent:t,unauthId:l.unauthId,inShareMenuLoggingExp:h,inResizeShareSheetExp:_,shareSheetExpEnabled:u,relayEnvironment:u?p:void 0})}var Q=s(6637),ee=s(499128),te=s(717615),se=s(231947),ie=s(758523);const ne=(e,t)=>{const s={};return e.forEach((e=>{s[e]=t})),s};function oe(e){const{logContextEvent:t}=(0,c.v)(),s=(0,a.ZP)(),[o,r]=(0,i.useState)(!1),[l,x]=(0,i.useState)(null),[b,f]=(0,i.useState)({}),[S]=(0,i.useState)(((e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"")(e.sendType,s)),{showOneToast:E}=(0,W.F9)(),{surface:C}=(0,ie.$)(),j=(0,D.Z)(),A=(0,te.Z)(),{conversationCreate:I}=(0,v.Z5)(),k=(0,v.NG)(),T=(0,i.useRef)();(0,i.useEffect)((()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.focus()}),[]);const z=(s,i)=>{r(!1),e.onMessageSent(),((s,i)=>{const{sharedObject:o}=e,a=o.id;n.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:a,aux_data:{conversation_id:s,pin_id:i}})})(s,i)},Z=e=>{n.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&E((({hideToast:e})=>(0,m.jsx)(ee.ZP,{variant:"error",duration:5e3,onHide:e,text:t})))},O=async(t,s,i)=>{const{sharedObject:n,sendType:o}=e,a=n.id,r={emails:s,user_ids:t,text:i,source:y(C)};r[o]=a;const l=Q.Z.create("ConversationsResource",r);try{const e=await l.callCreate(),i=e&&e.resource_response.data;I(i),z(i.id,"pin"===o?a:null),t.length>0?f({...b,...ne(t,i.id)}):f({...b,...ne(s,i.id)})}catch(c){Z(c)}},L=(s,i)=>{"conversation_share_suggestion"===s.type?((t,s,i)=>{const{sharedObject:n,sendType:o}=e;let a;switch(o){case"pin":a="pinId";break;case"board":a="boardId";break;case"did_it":a="didItId";break;case"user":case"pinner":a="userId"}const r=a?k(t,{text:s,[a]:n.id,source:y(C)},void 0,j):void 0;r&&r.then((()=>{z(t,"pin"===o?n.id:null),f({...b,[t]:t})})).catch((e=>{Z(e)}))})(s.id,i):"user_share_suggestion"===s.type&&s.username?O([s.id],[],i):O([],[s.email],i),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:B,onShowImport:M,sendType:R,sharedObject:F,onHide:H,onExternalSend:N,viewType:G,viewParameter:U}=e,V="user"===e.sendType&&(0,se.q6)(j,e.sharedObject.id,A),$=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,se.q6)(j,e.sharedObject.ownerId,A),Y=V||$,{checkExperiment:X}=(0,d.F)(),q=X("web_sharesheet_resize").anyEnabled,K=q?u:_,oe=q?g:p;return o&&"email"===l?(0,m.jsx)(P,{initialTextValue:S,objectId:F.id,objectType:R,onCancelDraft:()=>{r(!1),x(null)},onHide:H,onSendMessage:L,width:oe}):(0,m.jsxs)(h.xu,{color:"default",paddingX:K.SHARE_SHEET_PADDING_X,paddingY:K.SHARE_SHEET_PADDING_Y,width:oe,tabIndex:0,ref:T,children:[(0,m.jsx)(J,{onCreatePincodeClick:B,onEmailIconClick:()=>{r(!0),x("email")},onExternalSend:N,onHide:H,sharedObject:F,isPublisherSharingObject:Y,viewType:G,viewParameter:U}),!Y&&(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(h.xu,{paddingY:1,paddingX:3,children:(0,m.jsx)(h.iz,{})}),(0,m.jsx)(w,{objectAttachment:{type:R,id:F.id},onHide:H,onSendMessage:L,onShowImportContacts:M,sentHistory:b})]})]})}var ae=s(808475);const re=["facebook","google"];function le(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ce(e,t,s){return"facebook"===e?s._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function de({onBack:e}){const t=(0,a.ZP)(),s=(0,D.Z)(),i=s.isAuth?s.email:null,n=re.filter((e=>!s.isAuth||!1===s.socialNetwork[e].connected)),o=(0,ae.k)();return(0,m.jsx)(h.xu,{paddingX:1,paddingY:2,children:(0,m.jsxs)(h.kC,{gap:{row:0,column:2},direction:"column",children:[(0,m.jsxs)(h.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,m.jsx)(h.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,m.jsx)(h.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,m.jsx)(h.kC,{direction:"column",gap:{row:0,column:4},children:n.map((e=>(0,m.jsx)(h.xu,{paddingX:2,children:(0,m.jsxs)(h.iP,{onTap:()=>(e=>{o.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,m.jsx)(h.xv,{size:"200",children:le(e,t)}),(0,m.jsx)(h.xv,{size:"200",children:ce(e,i,t)})]})},e)))})]})})}function he({element:e,onCreatePincodeClick:t,onExternalSend:s,onHide:o,sendType:a,sharedObject:l,viewType:_,viewParameter:u}){const{logContextEvent:p}=(0,c.v)(),[g,x]=(0,i.useState)(!1),{checkExperiment:b}=(0,d.F)(),v=b("web_share_menu_logging").anyEnabled,f=(0,i.useRef)(!1);(0,i.useEffect)((()=>{const t=V.y[a];return t||n.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:a}),p({event_type:7120,component:v?14121:void 0,object_id_str:l.id,element:v?e:void 0,view_type:_,view_parameter:u,aux_data:v?{invite_object:t}:void 0}),()=>{v||p({event_type:7121,object_id_str:l.id,view_type:_,view_parameter:u});const e=f.current?7493:7492;p({event_type:e,component:v?14121:void 0,object_id_str:v?l.id:void 0,element:v?13097:void 0,view_type:_,view_parameter:u,aux_data:v?{invite_object:t}:void 0})}}),[]);const w=()=>{x(!0)},y=()=>{x(!1)},S=()=>{f.current=!0},E=()=>{f.current=!0,s&&s()};return g?(0,m.jsx)(de,{onBack:y}):(0,m.jsx)(h.xu,{overflow:"hidden",rounding:4,zIndex:new h.Ry(r.fe-1),color:"default",children:(0,m.jsx)(oe,{onCreatePincodeClick:t,onHide:o,onShowImport:w,onMessageSent:S,onExternalSend:E,sendType:a,sharedObject:l,viewType:_,viewParameter:u})})}},239324:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(207112),n=s(883119),o=s(785893);const a=({text:e})=>(0,o.jsx)(n.xv,{align:"center",size:"100",children:(0,o.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},518604:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(883119),n=s(785893);const o=({width:e,marginEnd:t,children:s,isCloseupActionBar:o})=>(0,n.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:o?0:5,children:s})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22545-0bf7750e9d8589ec.mjs.map